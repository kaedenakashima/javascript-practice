  
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Levelup Tutorials Better Javascript Cardio üî•üí™</title>
</head>

<body  style='transition: 1s ease all;'>
  <div id="app">
  <p><em>Psst: have a look at the JavaScript Console</em>üíÅ</p>
  <h1 id='logo'>Company Logo</h1>
  <button id="new-colors">New Colors</button>
  <button id="change-text-button">Click</button>
</div>
</body>  
<script>

document.getElementById("app").appendChild = `
<h1>Hello Vanilla!</h1>
<div>
  We use Parcel to bundle this sandbox, you can find more info about Parcel
  <a href="https://parceljs.org" target="_blank" rel="noopener noreferrer">here</a>.
</div>
`;
//--------(20)CLASSES---------
console.log("üîπ(20) CLASSESüîπ");

class Arcane {
  constructor(name) {
    this.name = name
  }
}
class Enchantment extends Arcane {
  constructor(name) {
    super(name);
    this.type = 'Wizard';
  }
  comment() {
    console.log('Wicked!')
  }
}
class Bladesinger extends Arcane {
  constructor(name) {
    super(name);
    this.type = 'Wizard';
  }
  singing() {
    console.log('do le mi fa so la ti do')
  }
}
const ClassOfArcane1 = new Enchantment('School of Enchantment')
const ClassOfArcane2 = new Bladesinger('School of Bladesinger')
ClassOfArcane1.comment();
ClassOfArcane2.singing();

console.log('class of arcane:', ClassOfArcane1, ClassOfArcane2 )

//--------(19)MORE THIS---------
console.log("üî∏(19) MORE THISüî∏");
const property2 = {
  name: 'Dangeon and Dragon Character name',
  characterThree: function() {
    ['hello1', 'hello2', 'hello3'].map(()=> {
      console.log(this);
    })
  },
  characterFour: function() {
    ['hi', 'hello'].map(logGreeting.bind(this));
  }
};

const logGreeting = function() {
  console.log(this);
  //console.log(this.name)
}

property2.characterThree();
property2.characterFour();

//--------(18)THIS---------
console.log("üîπ(18)THISüîπ");

const property = {
  name: 'Dangeon and Dragon Character name',
  characterOne: function() {
    this.name = 'Eliza'
    console.log('property.characterOne', this.name);
  },
  characterTwo: () => {
    console.log('characterTwo', this); //you can only use this in function() 
  },
}

console.log('property', property)
property.characterOne();
property.characterTwo();

function Class(name) {
  this.name = name;
  console.log(this)
}

console.log('class', Class);
Class();
const wings = new Class('Wizard')

const button = document.getElementById('change-text-button');
button.addEventListener('click', function() {
  this.innerText = 'Clicked';
});

console.log('button', button);

//--------(14-17)CLOTHING STORE PROJECT---------
console.log('üë†(14-17)CLOTHING STORE PROJECTüß∏üëó'+ '\n' + '¬∑ (14)JS ARRAY METHODS & MAP'+ '\n' + '¬∑ (15)FILTER,' + '\n' + '¬∑ (16)REDUCE' + '\n' + '¬∑ (17)OTHER ARRAY METHODS');

// .map
// iterates over array, perform function on each returns new array

// .filter
// iteratates over array. determines what is filtered,
// returns new array
// returns same or less amount of items in array

// .reduce
// iterayes over array, uses values, to output one value
// outputs single value

//.reverse

//--------(14)JS ARRAY METHODS & MAP---------
console.log("üî∏(14)JS ARRAY METHODS & MAPüî∏");
const priceList = [900, 200, 250, 50, 60];

const productList = [
  {
    sku: "1234",
    price: 600,
    type: "spring linen jacket"
  },
  {
    sku: "12333334",
    price: 60,
    type: "round neck icon tshirt"
  },
  {
    sku: "12333335",
    price: 100,
    type: "round neck icon tshirt"
  },
  {
    sku: "12111111134",
    price: 300,
    type: "striped shirt dress"
  }
];

// const springSalePrice = priceList.map(value => {
//   return value * 0.7;
// });
//// rewrite above the code
// const springSalePrice = priceList.map(value => value * 0.7);
// console.log("springSalePrice", springSalePrice);

const springSalePrice = productList.map(value => {
  return {
    ...value,
    salePrice: value.price * 0.7
  };
});
console.log("springSalePrice", springSalePrice);

//--------(15)FILTER---------
console.log("üîπ(15)FILTERüîπ");
const filterPrice = priceList.filter(value => {
  // X return true ‚Üê there is no true in array
  return value <= 200;
});
// console.log('priceList', priceList);
console.log('filterPrice', filterPrice);

const filterType = productList
  .filter(({ type }) => {
    return type === "round neck icon tshirt";
  })
  .filter(product => {
    return product.price < 100;
  })
  .map(product => ({ ...product, springSalePrice: product.price * .7 }));
console.log('filterType', filterType);

//--------(16)REDUCE---------
console.log("üî∏(16)REDUCEüî∏");

const totalPrice = priceList.reduce(
  (totalPrice, currentPrice) => {
    return totalPrice + currentPrice
});

console.log('priceList', priceList);
console.log('totalPrice =', totalPrice);


//--------(17)OTHER ARRAY METHODS---------
console.log("üîπ(17)OTHER ARRAY METHODSüîπ");
console.log('priceList', priceList);
console.log('reversePriceList', [...priceList].reverse());
console.log('totalPrice = ', totalPrice);

//--------(13)ASYNC AWAIT---------
console.log("üî∏(13)ASYNC AWAITüî∏");

//Made up code
//imported chargedCard
const chargeCard2 = () => 
  new Promise((resolve, reject) => {
    // card is valid
    // reject('fail!')
    if(true) {
      return resolve(true);
    }
    return reject(false);
  });
  const chargeCC = async ccNumber => {
    try {
      const res = await chargeCard2(ccNumber);
      console.log(res);
      return (res);
    } catch(error) {
      console.log(error);
    }
    chargeCard2(ccNumber)
      .then(val => {
        console.log(val);
      })
      .catch(err => {
        console.log(err);
      })
  };

// callback hell
chargeCard2('12341234123', res => {
  // time to do something
  saveToDb(res, () => {
    //time to do something else
  });
});
//--------(12)WHAT ARE PROMISES?---------
console.log("(12)WHAT ARE PROMISES?");

// Made up code
// imported chargedCard
const chargeCard = () =>
  new Promise((resolve, reject) => {
    // card is valid
    // reject('fail');
  if (true) {
    // return resolve(true)
  }  
  // retrun reject(false)
});

  chargeCard() 
    .then(val => {
      console.log(val);
    })
    .catch(err => {
      console.log(err);
    })

//callback hell
chargeCard('12341234123', res => {
  // time to do something
  saveToDb(res, () => {
    // time to do something else
  })
});
  
//--------(9-11)BG COLOR GENERAATOR PROJECT---------
console.log('(9-11)BG COLOR GENERAATOR PROJECT'+ '\n' + '(9)JS & THE DOM PART3'+ '\n' + '(10)EVENTS ADDEVENTLISTNER VS EVENT METHODS,' + '\n' + '(11)SETTIMEOUT & SETINTERVAL');
//--------(9)JS & THE DOM PART3---------
// Generate random color
// Apply to dom

// step1 set the color random
const randomColor = () => Math.floor(Math.random() * 256);

// step2 set color for each RBG
const makeColor = () => {
  const red = randomColor();
  const green = randomColor();
  const blue = randomColor();
  return `rgb(${red}, ${green}, ${blue})`;
};

//step3 set css
const css = color => {
  return (document.body.style.backgroundColor = color);
};

//step4 set color to css
const bgColor = () => {
  const color = makeColor();
  return css(color);
};

//step5 action(if you reflesh your browser, bgColor will change)
bgColor();

//--------(10)EVENTS ADDEVENTLISTNER VS EVENT METHODS---------

// step6 set bg to id at button tag
const btn = document.getElementById("new-colors");

// step7 set click button
// On click attach 1 event
//btn.onclick = () => bgColor();
// btn.onclick = () => console.log("hi");

btn.addEventListener("click", bgColor);
btn.addEventListener("click", () => console.log("changed colorüåü"));

//--------(11)SETTIMEOUT & SETINTERVAL---------
  
// Set Timeout vs Set Interval
// Set Timeout - happens once
const log = () => console.log("is in timeOut");
// setTimeout(log(), 1000);
// setTimeout(bgColor, 5000); // every 5s

// Set Interval - happens over and over
const interval = setInterval(bgColor, 2000); // every 2s
btn.addEventListener("click", () => clearInterval(interval));

//--------(8)INTERACTING WITH THE DOM---------
console.log("(8)INTERACTING WITH THE DOM");

const logo = document.querySelector("#logo");
logo.innerText = "Yo!";

//--------(7)JS & THE DOM + MDN DOCS---------
console.log("(7)JS & THE DOM + MDN DOCS");
const heading = document.createElement("h1");
heading.innerHTML = "<span>Hello </span>" + document.URL;
document.body.appendChild(heading);

console.log(document.URL);

//--------(6)BENEFITS OF SMALLER FUNCTIONS---------
console.log("(6)BENEFITS OF SMALLER FUNCTIONS");
const cart = ["10", "5", "15"];

const SHIPPING_COST = 10;

const fakeAPICharge = total => true;
const fakeSendRecipt = total => true;

const getSubTotal = cart => cart.reduce((tempTotal, item) => tempTotal + item);
const getTotal = subTotal => subTotal + SHIPPING_COST;
const sendRecipt = ({ email, total }) =>
  fakeSendRecipt({
    email,
    total
  });

const checkout = cart => {
  const subTotal = getSubTotal(cart);
  const total = getTotal(subTotal);
  const orderSuccess = fakeAPICharge(total);
  if (orderSuccess) {
    sendRecipt({
      email: "fakeemail@gmail.com",
      total
    });
  }
  return orderSuccess;
};

checkout(cart);

//--------(5)IMMUTABLE & PURE FUNCTIONS----------
console.log("(5)IMMUTABLE & PURE FUNCTIONS");
// Immutable vs Mutable
// can't be changed vs can be changed
// isn't changed vs changed
const name2 = "Katie";
const fullName2 = name2 + " Nakashima";
console.log(fullName2);

// Pure Function
// Always retun the same thing, with the same input

//pure
const timesTwo = x => x * 2;
console.log(timesTwo(2));
console.log(timesTwo(2));

// not pure
let multi = 3;
const timesMulti = x => x * multi;
console.log("multi=3", timesMulti(2));
multi = 4;
console.log("multi=4", timesMulti(2));
multi = 6;
console.log("multi=6", timesMulti(2));

let mult = 2; // External State
const addFour = x => {
  mult += 2;
  return x + mult;
};
console.log("mult2(set Internal State as +2)", addFour(2));
console.log("mult2(set Internal State as +2)", addFour(2));

//--------(4)NAMING THINGS----------
console.log("(4)NAMING THINGS");
//Consistency is king
//Clear, searchable & obvious
const BASE_SALARY = 16000;
const SALARY_MULTIPLIER = 4;
//parameters
const makePerson3 = ({ nickName, lastName, age, job }) => {
  return {
    name: nickName + " " + lastName,
    age,
    job,
    salary: "$" + BASE_SALARY * SALARY_MULTIPLIER
  };
};
//arguments
const dev3 = makePerson3({
  nickName: "Katie",
  lastName: "Nakashima",
  age: 27,
  job: "Front End Dev"
});

// Do not do
// const hireDev = ({devInfo]})=> {
//   const hiredDevInfo = {
//     hired: true,
//     hired: true,
//     ...devInfo
//   }
//   return hiredDevInfo
// }

//Correct
const hireDev = ({ dev3 }) => {
  const hiredDev = {
    hired: true,
    ...dev3
  };
  return hiredDev;
};

const ytd = 100000; //Sales year to date
const salesYearToDate = 100000;

console.log(hireDev({ dev3 }));

//--------(3)NAMED PARAMETERS----------
console.log('(3)NAMED PARAMETERS')
//parameters
const makePerson2 = ({ nickName, lastName, age, job }) => {
  return {
    name: nickName + " " + lastName,
    age,
    job,
  };
};
//arguments
const dev2 = makePerson2({
  nickName: "Katie",
  lastName: "Nakashima",
  age: 27,
  job: "Front End Dev"
});
console.log(dev2);
//--------(2)DESTRUCTURING----------
console.log('(2)DESTRUCTURING')
const newArray = ["hello", "katie", "newItem", "spreadftw"];
const [a, b, ...c] = newArray;
// const a = newArray[0];
// const b = newArray[1];
// console.log(a);
console.log(c);

const person = {
  name: "Katie",
  age: 27,
  job: "Front End Dev"
};

const makePerson = (name, age, job) => {
  return {
    name,
    age,
    job
  };
};
const dev = makePerson("Katie", 27, "Front End Dev");
// X const name = dev.name;
// X const devName = dev.name;
const { name, ...rest } = dev;
//this.props.names
//const {names} = this.props;
//...this.props

console.log(name, rest);

//--------(1)FUNCTION----------
console.log('(1)FUNCTION')
//Function Declaration
function sayHi() {
  return console.log("hi");
}
sayHi();

//Function Expression
const sayHi2 = function() {
  return console.log("hi2");
};
sayHi2();
const sayHi3 = () => {
  return console.log("hi3");
};
sayHi3();
const sayHi4 = () => console.log("hi4");
sayHi4();

  </script>

</html>
